<?xml version="1.0" encoding="UTF-8"?>
<odoo>
	<record id="education_application_view_tree" model="ir.ui.view">
		<field name="name">education.application.tree</field>
		<field name="model">education.application</field>
		<field name="arch" type="xml">
			<tree string="Application Tree">
				<field name="name" />
				<field name="student_id" />
				<field name="application_date" />
				<field name="admission_date" />
				<field name="admission_id" optional="show" />
				<field name="state" />
				<field name="company_id" groups="base.group_multi_company" optional="hide" />
			</tree>
		</field>
	</record>

	<record id="education_application_view_form" model="ir.ui.view">
		<field name="name">education.application.form</field>
		<field name="model">education.application</field>
		<field name="arch" type="xml">
			<form string="Application Form">
				<header>
					<button name="action_confirm" string="Confirm" class="btn-primary" type="object" attrs="{'invisible': [('state', '!=', 'draft')]}" />
					<button name="action_cancel" string="Cancel" type="object" attrs="{'invisible': [('state', 'in', ('draft', 'cancelled'))]}" />
					<button name="action_draft" string="Set to Draft" class="btn-primary" type="object" attrs="{'invisible': [('state', '!=', 'cancelled')]}" />
					<field name="state" widget="statusbar" />
				</header>
				<sheet>
					<widget name="web_ribbon" title="Archived" bg_color="bg-danger" attrs="{'invisible': [('active', '=', True)]}" />
					<field name="active" invisible="1" />
					<div class="oe_title">
						<h1>
							<field name="name" placeholder="Full Name" />
						</h1>
					</div>
					<group>
						<group>
							<field name="application_date" />
							<field name="student_id" />
						</group>
						<group>
							<field name="admission_date" />
							<field name="company_id" groups="base.group_multi_company" />
							<field name="admission_id" />
						</group>
					</group>
				</sheet>
				<div class="oe_chatter">
					<field name="message_follower_ids" widget="mail_followers" groups="base.group_user" />
					<field name="activity_ids" widget="mail_activity" />
					<field name="message_ids" widget="mail_thread" />
				</div>
			</form>
		</field>
	</record>

	<record id="education_application_view_pivot" model="ir.ui.view">
		<field name="name">education.application.pivot</field>
		<field name="model">education.application</field>
		<field name="priority" eval="8" />
		<field name="arch" type="xml">
			<pivot string="Application Pivot">
				<field name="name" />
				<field name="student_id" type="row" />
				<field name="admission_id" type="row" />
				<field name="application_date" />
				<field name="admission_date" />
				<field name="state" />
			</pivot>
		</field>
	</record>

	<record id="education_application_view_graph" model="ir.ui.view">
		<field name="name">education.application.graph</field>
		<field name="model">education.application</field>
		<field name="arch" type="xml">
			<graph string="Application Graph" type="bar">
				<field name="name" />
				<field name="student_id" />
			</graph>
		</field>
	</record>

	<record id="education_application_view_search" model="ir.ui.view">
		<field name="name">education.application.search</field>
		<field name="model">education.application</field>
		<field name="arch" type="xml">
			<search string="Application Search">
				<field name="name" />
				<field name="application_date" />
				<field name="admission_date" />
				<field name="student_id" />
				<filter string="Archived" name="ftr_inactive" domain="[('active', '=', False)]" />
				<group expand="0" string="Group By">
					<filter string="Student" name="grp_student" context="{'group_by': 'student_id'}" />
					<filter string="Admission" name="grp_admission" context="{'group_by': 'admission_id'}" />
					<filter string="State" name="grp_state" context="{'group_by': 'state'}" />
					<filter string="Company" name="grp_company" domain="[]" context="{'group_by' : 'company_id'}" groups="base.group_multi_company" />
				</group>
			</search>
		</field>
	</record>

	<record id="education_application_action" model="ir.actions.act_window">
		<field name="name">Applications</field>
		<field name="res_model">education.application</field>
		<field name="view_mode">tree,form,pivot,graph</field>
	</record>

	<record id="action_server_confirm_education_application" model="ir.actions.server">
		<field name="name">Confirms</field>
		<field name="type">ir.actions.server</field>
		<field name="model_id" ref="model_education_application" />
		<field name="binding_model_id" ref="model_education_application" />
		<field name="state">code</field>
		<field name="code">records.action_confirm()</field>
	</record>

	<menuitem id="education_application_menu" action="education_application_action" parent="education_admission_menu_root" sequence="10" />
</odoo>
